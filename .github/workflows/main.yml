name: DAMS CBT Automation (No Maven)

on:
Â  # Manual trigger
Â  workflow_dispatch:
Â  Â  inputs:
Â  Â  Â  run_description:
Â  Â  Â  Â  description: 'Description of this run'
Â  Â  Â  Â  required: false
Â  Â  Â  Â  default: 'Manual execution'
Â Â 
Â  # Scheduled runs (optional - runs every day at 9 AM UTC)
Â  schedule:
Â  Â  - cron: '0 9 * * *'
Â Â 
Â  # Trigger on push to main branch
Â  push:
Â  Â  branches:
Â  Â  Â  - main
Â  Â  paths:
Â  Â  Â  - '**.java'
Â  Â  Â  - '.github/workflows/**'
Â  Â  Â  - 'lib/**'

jobs:
Â  automation:
Â  Â  runs-on: ubuntu-latest
Â  Â  timeout-minutes: 120
Â  Â Â 
Â  Â  steps:
Â  Â  Â  - name: ğŸ“¥ Checkout Repository
Â  Â  Â  Â  uses: actions/checkout@v4
Â  Â  Â Â 
Â  Â  Â  - name: â˜• Setup Java 11
Â  Â  Â  Â  uses: actions/setup-java@v4
Â  Â  Â  Â  with:
Â  Â  Â  Â  Â  distribution: 'temurin'
Â  Â  Â  Â  Â  java-version: '11'
Â  Â  Â Â 
Â  Â  Â  - name: ğŸ”§ Setup Chrome and ChromeDriver
Â  Â  Â  Â  uses: browser-actions/setup-chrome@v1
Â  Â  Â  Â  with:
Â  Â  Â  Â  Â  chrome-version: stable
Â  Â  Â Â 
Â  Â  Â  - name: ğŸ” Verify Installation
Â  Â  Â  Â  run: |
Â  Â  Â  Â  Â  echo "=== Chrome Version ==="
Â  Â  Â  Â  Â  google-chrome --version
Â  Â  Â  Â  Â  echo ""
Â  Â  Â  Â  Â  echo "=== ChromeDriver Version ==="
Â  Â  Â  Â  Â  chromedriver --version
Â  Â  Â  Â  Â  echo ""
Â  Â  Â  Â  Â  echo "=== Java Version ==="
Â  Â  Â  Â  Â  java -version
Â  Â  Â  Â  Â  echo ""
Â  Â  Â  Â  Â  echo "=== ChromeDriver Location ==="
Â  Â  Â  Â  Â  which chromedriver
Â  Â  Â Â 
Â  Â  Â  - name: ğŸ“¦ Download Selenium JARs
Â  Â  Â  Â  run: |
Â  Â  Â  Â  Â  mkdir -p lib
Â  Â  Â  Â  Â  cd lib
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  echo "Downloading Selenium dependencies..."
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  # Selenium Java 4.15.0
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/org/seleniumhq/selenium/selenium-java/4.15.0/selenium-java-4.15.0.jar
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  # Selenium Chrome Driver
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/org/seleniumhq/selenium/selenium-chrome-driver/4.15.0/selenium-chrome-driver-4.15.0.jar
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  # Selenium API
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/org/seleniumhq/selenium/selenium-api/4.15.0/selenium-api-4.15.0.jar
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  # Selenium Remote Driver
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/org/seleniumhq/selenium/selenium-remote-driver/4.15.0/selenium-remote-driver-4.15.0.jar
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  # Selenium Support
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/org/seleniumhq/selenium/selenium-support/4.15.0/selenium-support-4.15.0.jar
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  # Selenium Manager
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/org/seleniumhq/selenium/selenium-manager/4.15.0/selenium-manager-4.15.0.jar
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  # Selenium HTTP
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/org/seleniumhq/selenium/selenium-http/4.15.0/selenium-http-4.15.0.jar
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  # Additional dependencies
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/com/google/guava/guava/32.1.3-jre/guava-32.1.3-jre.jar
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/org/asynchttpclient/async-http-client/2.12.3/async-http-client-2.12.3.jar
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/io/netty/netty-all/4.1.100.Final/netty-all-4.1.100.Final.jar
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/commons-io/commons-io/2.15.0/commons-io-2.15.0.jar
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/org/apache/commons/commons-exec/1.3/commons-exec-1.3.jar
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/dev/failsafe/failsafe/3.3.2/failsafe-3.3.2.jar
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/com/google/auto/service/auto-service-annotations/1.1.1/auto-service-annotations-1.1.1.jar
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/org/opentest4j/opentest4j/1.3.0/opentest4j-1.3.0.jar
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  # === FIX: Added missing JARs ===
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/org/seleniumhq/selenium/selenium-chromium-driver/4.15.0/selenium-chromium-driver-4.15.0.jar
Â  Â  Â  Â  Â  wget -q https://repo1.maven.org/maven2/org/seleniumhq/selenium/selenium-devtools-v119/4.15.0/selenium-devtools-v119-4.15.0.jar
Â  Â  Â  Â  Â  # === End of FIX ===
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  echo "âœ“ All JARs downloaded"
Â  S Â  Â  Â  echo ""
Â  Â  Â  Â  Â  echo "Downloaded files:"
Â  Â  Â  Â  Â  ls -lh
Â  Â  Â Â 
Â  Â  Â  - name: ğŸ“ Create Required Directories
Â  Â  Â  Â  run: |
Â  Â  Â  Â  Â  mkdir -p screenshots
Â  Â  Â  Â  Â  mkdir -p compiled
Â  Â  Â  Â  Â  echo "âœ“ Directories created"
Â  Â  Â Â 
Â  Â  Â  - name: ğŸ—ï¸ Compile Java Code
Â  Â  Â  Â  run: |
Â  Â  Â  Â  Â  echo "Compiling DamsDelhiLogin.java..."
Â  Â  Â  Â  Â  # Use -Xlint to show more details on warnings
Â  Â  Â  Â  Â  javac -Xlint:all -cp "lib/*" -d compiled DamsDelhiLogin.java
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  if [ $? -eq 0 ]; then
Â  Â  Â  Â  Â  Â  echo "âœ“ Compilation successful"
Â  Â  Â  Â  Â  else
Â  Â  Â  Â  Â  Â  echo "âœ— Compilation failed"
Â  Â  Â  Â  Â  Â  exit 1
Â  Â  Â  Â  Â  fi
Â  Â  Â Â 
Â  Â  Â  - name: ğŸš€ Run DAMS CBT Automation
Â  Â  Â  Â  env:
Â  Â  Â  Â  Â  CI: true
Â  Â  Â  Â  run: |
Â  Â  Â  Â  Â  echo "Starting automation execution..."
Â  Â  Â  Â  Â  echo "======================================"
Â  Â  Â  Â  Â  # Ensure all libraries are in the classpath
Â  Â  Â  Â  Â  java -cp "compiled:lib/*" DamsDelhiLogin
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  echo ""
Â  Â  Â  Â  Â  echo "======================================"
Â  Â  Â  Â  Â  echo "Execution completed"
Â  Â  Â  Â  continue-on-error: true
Â  Â  Â Â 
Â  Â  Â  - name: ğŸ“Š Check Results
Â  Â  Â  Â  if: always()
Â  Â  Â  Â  run: |
Â  Â  Â  Â  Â  echo "=== Execution Summary ===" >> $GITHUB_STEP_SUMMARY
Â  Â  Â  Â  Â  echo "" >> $GITHUB_STEP_SUMMARY
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  if [ -d "screenshots" ]; then
Â  Â  Â  Â  Â  Â  screenshot_count=$(ls -1 screenshots/*.png 2>/dev/null | wc -l)
Â  Â  Â  Â  Â  Â  echo "- **Screenshots Generated**: $screenshot_count" >> $GITHUB_STEP_SUMMARY
Â  Â  Â  Â  Â  Â  echo "Â  Screenshots: $screenshot_count"
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if [ $screenshot_count -gt 0 ]; then
Â  Â  Â  Â  Â  Â  Â  echo "" >> $GITHUB_STEP_SUMMARY
Â  Â  Â  Â  Â  Â  Â  echo "### Screenshots List:" >> $GITHUB_STEP_SUMMARY
Â  Â  Â  Â  Â  Â  Â  for file in screenshots/*.png; do
Â  Â  Â  Â  Â  Â  Â  Â  if [ -f "$file" ]; then
Â  Â  Â  Â  Â  Â  Â  Â  Â  filename=$(basename "$file")
Â  Â  Â  Â  Â  Â  Â  Â  Â  filesize=$(du -h "$file" | cut -f1)
Â  Â  Â  Â  Â  Â  Â  Â  Â  echo "- ğŸ“¸ $filename ($filesize)" >> $GITHUB_STEP_SUMMARY
Â  Â  Â  Â  Â  Â  Â  Â  fi
Â  Â  Â  Â  Â  Â  Â  done
Â  Â  Â  Â  Â  Â  fi
Â  Â  Â  Â  Â  else
Â  Â  Â  S Â  Â  Â  echo "- **Screenshots**: No directory found âŒ" >> $GITHUB_STEP_SUMMARY
Â  Â  Â  Â  Â  Â  echo "Â  No screenshots directory"
Â  Â  Â  Â  Â  fi
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  echo "" >> $GITHUB_STEP_SUMMARY
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  if ls DAMS_CBT_Report_*.html 1> /dev/null 2>&1; then
Â  Â  Â  Â  Â  Â  report_file=$(ls DAMS_CBT_Report_*.html | head -1)
Â  Â  Â  Â  Â  Â  report_size=$(du -h "$report_file" | cut -f1)
Â  Â  Â  Â  Â  Â  echo "- **HTML Report**: Generated âœ… ($report_size)" >> $GITHUB_STEP_SUMMARY
Â  Â  Â  Â  Â  Â  echo "Â  HTML Report: Generated"
Â  S Â  Â  Â  else
Â  Â  Â  Â  Â  Â  echo "- **HTML Report**: Not generated âŒ" >> $GITHUB_STEP_SUMMARY
Â  Â  Â  Â  Â  Â  echo "Â  HTML Report: Not found"
Â  Â  Â  Â  Â  fi
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  echo "" >> $GITHUB_STEP_SUMMARY
Â  Â  Â  Â  Â  echo "- **Run ID**: ${{ github.run_id }}" >> $GITHUB_STEP_SUMMARY
Â  Â  Â  Â  Â  echo "- **Triggered by**: ${{ github.actor }}" >> $GITHUB_STEP_SUMMARY
Â  Â  Â  Â  Â  echo "- **Time**: $(date)" >> $GITHUB_STEP_SUMMARY
Â  S Â  Â Â 
Â  Â  Â  - name: ğŸ“Š Upload Screenshots
Â  Â  Â  Â  if: always()
Â  Â  Â  Â  uses: actions/upload-artifact@v4
Â  Â  Â  Â  with:
Â  Â  Â  Â  Â  name: qr-screenshots-${{ github.run_id }}
Â  Â  Â  Â  Â  path: screenshots/
Â  Â  Â  Â  Â  retention-days: 30
Â  Â  Â  Â  Â  if-no-files-found: warn
Â  Â  Â Â 
Â  Â  Â  - name: ğŸ“„ Upload HTML Report
Â  Â  Â  Â  if: always()
Â  Â  Â  Â  uses: actions/upload-artifact@v4
Â  S Â  Â  Â  with:
Â  Â  Â  Â  Â  name: html-report-${{ github.run_id }}
Â  Â  Â  Â  Â  path: DAMS_CBT_Report_*.html
Â  Â  Â  Â  Â  retention-days: 30
Â  Â  Â  Â  Â  if-no-files-found: warn
Â  Â  Â Â 
Â  Â  Â  - name: ğŸ“§ Send Email Notification
Â  Â  Â  Â  if: always() && vars.ENABLE_EMAIL_NOTIFICATIONS == 'true'
Â  Â  Â  Â  uses: dawidd6/action-send-mail@v3
Â  Â  Â  Â  with:
Â  Â  Â  Â  Â  server_address: smtp.gmail.com
Â  Â  Â  Â  Â  server_port: 587
Â  Â  Â  Â  Â  username: ${{ secrets.EMAIL_USERNAME }}
Â  Â  Â  Â  Â  password: ${{ secrets.EMAIL_PASSWORD }}
Â  Â  Â  Â  Â  subject: "DAMS CBT Automation - ${{ job.status }}"
Â  Â  Â  Â  Â  to: ${{ secrets.NOTIFICATION_EMAIL }}
Â  Â  Â  Â  Â  from: DAMS Automation
Â  Â  Â  Â  Â  body: |
Â  Â  Â  Â  Â  Â  Automation execution completed with status: ${{ job.status }}
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Run ID: ${{ github.run_id }}
Â  Â  Â  Â  Â  Â  Run Description: ${{ github.event.inputs.run_description }}
Â  Â  Â  Â  Â  Â  Triggered by: ${{ github.actor }}
Â  Â  Â  Â  Â  Â  Time: ${{ github.event.head_commit.timestamp }}
S Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  View artifacts: ${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }}
Â  Â  Â  Â  Â  attachments: DAMS_CBT_Report_*.html
Â  Â  Â  Â  continue-on-error: true
Â  Â  Â Â 
Â  Â  Â  - name: ğŸ› Debug Information
Â  Â  Â  Â  if: failure()
Â  Â  Â  Â  run: |
Â  Â  Â  Â  Â  echo "=== Debug Information ==="
Â  Â  Â  Â  Â  echo ""
Â  Â  Â  Â  Â  echo "Working Directory:"
Â  Â  Â  Â  Â  pwd
Â  Â  Â  Â  Â  echo ""
Â  Â  Â  Â  Â  echo "Directory Contents:"
Â  Â  Â  Â  Â  ls -la
Â  Â  Â  Â  Â  echo ""
Â  Â  Â  Â  Â  echo "Screenshots Directory:"
Â  Â  Â  Â  Â  ls -la screenshots/ || echo "No screenshots directory"
Â  Â  Â  Â  Â  echo ""
Â  Â  Â  Â  Â  echo "Compiled Classes:"
Â  Â  Â  Â  Â  ls -la compiled/ || echo "No compiled directory"
Â  Â  Â  Â  Â  echo ""
Â  Â  Â  Â  Â  echo "Library JARs:"
Â  Â  Â  Â  Â  ls -la lib/
Â  out Â  Â  Â  Â  echo ""
Â  Â  Â  S Â  Â  echo "Environment Variables:"
Â  Â  Â  Â  Â  env | grep -E "CI|JAVA|PATH"

Â  # Optional: Deploy reports to GitHub Pages
Â  deploy-reports:
Â  Â  needs: automation
Â  Â  runs-on: ubuntu-latest
Â  Â  if: always() && github.ref == 'refs/heads/main'
Â  Â  permissions:
Â  Â  Â  pages: write
Â  Â  Â  id-token: write
Â  Â  Â  contents: read
Â  Â Â 
Â  Â  steps:
Â  Â  Â  - name: ğŸ“¥ Download HTML Reports
Â  Â  Â  Â  uses: actions/download-artifact@v4
Â  Â  Â  Â  with:
Â  Â  Â  Â  Â  pattern: html-report-*
Â  Â  Â  Â  Â  merge-multiple: true
Â  Â  f Â  Â  Â  path: ./reports
Â  Â  Â Â 
Â  Â  Â  - name: ğŸ“¥ Download Screenshots
Â  Â  Â  Â  uses: actions/download-artifact@v4
Â  Â  Â  Â  with:
Â  Â  Â  Â  Â  pattern: qr-screenshots-*
Â  Â  Â  Â  Â  merge-multiple: true
Â  Â  Â  Â  Â  path: ./reports/screenshots
S Â  Â Â 
Â  Â  Â  - name: ğŸ—ï¸ Create Index Page
Â  Â  Â  Â  run: |
Â  Â  Â  Â  Â  cat > ./reports/index.html << 'EOF'
Â  Â  Â  Â  Â  <!DOCTYPE html>
Â  Â  Â  Â  Â  <html lang="en">
Â  Â  Â  Â  Â  <head>
Â  Â  Â  Â  Â  Â  <meta charset="UTF-8">
Â  Â  Â  Â  Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  Â  Â  Â  Â  <title>DAMS CBT Automation Reports</title>
Â  Â  Â  Â  Â  Â  <style>
Â  Â  Â  Â  Â  Â  Â  * { margin: 0; padding: 0; box-sizing: border-box; }
Â  Â  Â  Â  Â  Â  Â  body {Â 
Â  Â  Â  Â  Â  Â  Â  Â  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;Â 
Â  Â  Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);Â 
Â  Â  Â  Â  Â  Â  Â  Â  min-height: 100vh;Â 
Â  Â  Â  Â  Â  Â  Â  Â  padding: 40px 20px;Â 
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  .container { max-width: 1200px; margin: 0 auto; }
Â  Â  Â  Â  Â  Â  Â  .header {Â 
Â  Â  Â  Â  Â  Â  Â  Â  background: white;Â 
Â  Â  Â  Â  Â  Â  Â  Â  border-radius: 20px;aS Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  padding: 40px;Â 
Â  Â  Â  Â  Â  Â  Â  Â  margin-bottom: 30px;Â 
Â  Â  Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 40px rgba(0,0,0,0.1);Â 
Â  Â  Â  Â  Â  Â  Â  Â  text-align: center;Â 
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  .header h1 {Â 
Â  Â  Â  Â  Â  Â  Â  Â  color: #2d3748;Â 
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 42px;Â 
Â  Â  Â  Â  Â  Â  Â  Â  font-weight: 700;s Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
Â  Â  Â  Â  Â  Â  Â  Â  -webkit-background-clip: text;
Â  Â  Â  Â  Â  Â  Â  Â  -webkit-text-fill-color: transparent;
section Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  .report-list {Â 
Â  Â  Â  Â  Â  Â  Â  Â  background: white;Â 
Â  Â  Â  Â  Â  Â  Â  Â  padding: 40px;Â 
Â  Â  Â  Â  Â  Â  Â  Â  border-radius: 20px;Â 
Â  Â  Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 40px rgba(0,0,0,0.1);
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  .report-list h2 { color: #2d3748; margin-bottom: 20px; }
Â  Â  Â  Â  Â  Â  Â  .report-item {Â 
Â  Â  Â  Â  Â  Â  Â  Â  padding: 15px;Â 
Â  Â  Â  Â  Â  Â  Â  Â  margin: 10px 0;iOSÂ 
Â  Â  Â  Â  Â  Â  Â  Â  background: #f7fafc;Â 
Â  Â  Â  Â  Â  Â  Â  Â  border-radius: 10px;Â 
Â  Â  Â  Â  Â  Â  Â  Â  transition: all 0.3s;
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  .report-item:hover {sÂ 
Â  Â  Â  Â  Â  Â  Â  Â  background: #e2e8f0;Â 
Â  Â  Â  Â  Â  Â  Â  Â  transform: translateX(5px);
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  a {Two-wayÂ 
Â  Â  Â  Â  Â  Â  Â  Â  color: #667eea;Â 
Â  Â  Â  Â  Â  Â  Â  Â  text-decoration: none;Â 
Â  Â  Â  Â  Â  Â  Â  Â  font-weight: 600;Â 
Â  Â  Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  a:hover { color: #764ba2; }
S Â  Â  Â  Â  Â  Â  .timestamp {Â 
Â  Â  Â  Â  Â  Â  Â  Â  color: #718096;Â 
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 14px;Â 
Â  Â  Â  Â  Â  Â  Â  Â  margin-top: 5px;Â 
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  </style>
iOS Â  Â  Â  Â  </head>
Â  Â  Â  Â  Â  <body>
Â  Â  Â  Â  Â  Â  <div class="container">
Â  Â  Â  Â  Â  Â  Â  <div class="header">
Â  Â  Â  Â  Â  Â  Â  Â  <h1>ğŸ¯ DAMS CBT Automation Reports</h1>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="color: #718096; margin-top: 10px;">Comprehensive CBT Course Purchase Summary</p>
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  <div class="report-list">
Â  Â  Â  Â  Â  Â  Â  Â  <h2>ğŸ“Š Available Reports:</h2>
Â  Â  Â  Â  Â  EOF
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  for file in ./reports/DAMS_CBT_Report_*.html; do
Â  Â  Â  Â  Â  Â  if [ -f "$file" ]; then
Â  Â  Â  Â  Â  Â  Â  basename=$(basename "$file")
Â  Â  What Â  Â  Â  Â  filesize=$(du -h "$file" | cut -f1)
Â  Â  Â  Â  Â  Â  Â  timestamp=$(stat -c %y "$file" | cut -d' ' -f1,2 | cut -d'.' -f1)
Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  echo "<div class='report-item'>" >> ./reports/index.html
Â  What Â  Â  Â  Â  Â  echo "Â  <a href='$basename'>ğŸ“„ $basename</a>" >> ./reports/index.html
Â  Â  Â  Â  Â  Â  Â  echo "Â  <div class='timestamp'>Size: $filesize | Generated: $timestamp</div>" >> ./reports/index.html
Â  Â  Â  Â  Â  Â  Â  echo "</div>" >> ./reports/index.html
Â  Â  Â  Â  Â  Â  fi
Â  Â  Â  Â  Â  done
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  cat >> ./reports/index.html << 'EOF'
Section Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  </body>
Â  Â  Â  Â  Â  </html>
Â  Â  Â  Â  Â  EOF
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  echo "âœ“ Index page created"
Â  Â  Â Â 
Â  Â  Â  - name: ğŸš€ Deploy to GitHub Pages
Â  Â  Â  Â  uses: actions/upload-pages-artifact@v3
Â  Â  Â  Â  with:
Â  Â  Â  Â  Â  path: ./reports
Â  Â  {Â Â 
Â  Â  Â  - name: ğŸŒ Publish to GitHub Pages
Â  Â  Â  Â  id: deployment
Â  Â  Â  Â  uses: actions/deploy-pages@v4
